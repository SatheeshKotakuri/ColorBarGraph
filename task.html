<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bar Animation</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            background-color: #222;
            color: white;
            font-family: Arial, sans-serif;
        }
        .animation-container {
            display: flex;
            align-items: flex-end;
            width: 300px;
            height: 150px;
            background-color: #111;
            margin-bottom: 20px;
        }
        .bar {
            width: 17%;
            height: 100%; /* Start with full height */
            margin: 0 5px;
            background-color: purple;
            transition: height 0.3s;
            flex: none; /* Prevents bars from expanding on reset */
        }
        #controls button {
            margin: 0 5px;
            padding: 5px 10px;
            font-size: 16px;
        }
        #start { background-color: #28a745; color: white; }
        #reset { background-color: #6c757d; color: white; }
        #stop { background-color: #dc3545; color: white; }
    </style>
</head>
<body>

<div class="animation-container">
    <div class="bar" style="background-color: #7b4dff;"></div>
    <div class="bar" style="background-color: #ff7e85;"></div>
    <div class="bar" style="background-color: #ffaa7b;"></div>
    <div class="bar" style="background-color: #e4142d;"></div>
    <div class="bar" style="background-color: #0d1c8d;"></div>
</div>

<div id="controls">
    <button id="start">Start</button>
    <button id="reset">Reset</button>
    <button id="stop">Stop</button>
</div>

<script>
    const bars = document.querySelectorAll('.bar');
    let animationInterval;

    function startAnimation() {
        if (animationInterval) return; // Prevent multiple intervals

        animationInterval = setInterval(() => {
            bars.forEach(bar => {
                const newHeight = Math.random() * 100;
                bar.style.height = `${newHeight}%`;
            });
        }, 500); // Change every 500ms
    }

    function stopAnimation() {
        clearInterval(animationInterval);
        animationInterval = null;
    }

    function resetAnimation() {
        stopAnimation();
        bars.forEach(bar => bar.style.height = '100%'); // Reset to full height
    }

    document.getElementById('start').addEventListener('click', startAnimation);
    document.getElementById('stop').addEventListener('click', stopAnimation);
    document.getElementById('reset').addEventListener('click', resetAnimation);
</script>

</body>
</html>
